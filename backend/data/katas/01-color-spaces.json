{
    "slug": "01-color-spaces",
    "title": "Color Spaces",
    "level": "beginner",
    "concepts": [
        "cv2.cvtColor",
        "BGR",
        "RGB",
        "Grayscale",
        "HSV"
    ],
    "description": "OpenCV stores images in **BGR** by default, but the world uses many different ways to represent color. A **color space** is just a mathematical model for describing colors.\n\n**Why do color spaces matter?**\nDifferent tasks need different color representations:\n- **BGR/RGB**: Natural display. What humans see.\n- **Grayscale**: Removes color, keeps brightness. Faster processing.\n- **HSV** (Hue, Saturation, Value): Separates color (hue) from brightness (value). Great for color-based object detection — e.g., 'find all red objects'.\n\n**HSV explained simply:**\n- **Hue** (0–179): The color itself. Red=0, Green=60, Blue=120.\n- **Saturation** (0–255): How vivid the color is. 0=gray, 255=pure color.\n- **Value** (0–255): Brightness. 0=black, 255=full brightness.\n\nThis is why HSV is used for color filtering — you can say 'find pixels where hue is between 0–10' to find red objects, regardless of lighting.",
    "prerequisites": [
        "00-image-loading"
    ],
    "tips": [
        "cv2.cvtColor() converts between color spaces — it never modifies the original.",
        "HSV hue range in OpenCV is 0–179 (not 0–360 like in design tools). Divide by 2.",
        "To convert BGR→RGB for display in other tools: cv2.cvtColor(img, cv2.COLOR_BGR2RGB)",
        "Grayscale images have shape (h, w) not (h, w, 1) — watch out when doing math.",
        "cv2.inRange() + HSV is the classic recipe for color-based object detection."
    ],
    "starter_code": "import cv2\nimport numpy as np\n\n# Create a colorful test image with distinct regions\nimg = np.zeros((200, 400, 3), dtype=np.uint8)\n\n# Draw colored rectangles (BGR order)\nimg[0:200, 0:100]   = (255, 0, 0)    # Blue region\nimg[0:200, 100:200] = (0, 255, 0)    # Green region\nimg[0:200, 200:300] = (0, 0, 255)    # Red region\nimg[0:200, 300:400] = (0, 255, 255)  # Yellow region\n\n# Convert to Grayscale\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\nprint(f'Grayscale shape: {gray.shape}')  # (200, 400) — no channel dim!\n\n# Convert to HSV\nhsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)\nprint(f'HSV shape: {hsv.shape}')         # (200, 400, 3)\n\n# Sample HSV values at each color region\nprint(f'Blue  HSV: {hsv[100, 50]}')\nprint(f'Green HSV: {hsv[100, 150]}')\nprint(f'Red   HSV: {hsv[100, 250]}')\n\n# Stack original + grayscale (converted back to BGR) + HSV side by side\ngray_bgr = cv2.cvtColor(gray, cv2.COLOR_GRAY2BGR)\nresult = np.hstack([img, gray_bgr, hsv])\ncv2.imshow('BGR | Grayscale | HSV', result)\n",
    "demo_controls": []
}