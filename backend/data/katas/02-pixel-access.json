{
    "slug": "02-pixel-access",
    "title": "Pixel Access & Manipulation",
    "level": "beginner",
    "concepts": [
        "numpy indexing",
        "pixel values",
        "ROI",
        "array slicing"
    ],
    "description": "An image is just a NumPy array. That means you can read and write individual pixels using standard Python array indexing.\n\n**Accessing a single pixel:**\n```python\npixel = img[y, x]  # Note: row (y) first, then column (x)!\n```\nThis returns `[Blue, Green, Red]` for a color image.\n\n**Why y before x?**\nBecause arrays are indexed by `[row, column]`, and rows go top-to-bottom (the y direction). This is a common source of confusion — just remember: `img[row, col]` = `img[y, x]`.\n\n**Region of Interest (ROI):**\nYou can slice a rectangular region just like a 2D list:\n```python\nroi = img[y1:y2, x1:x2]\n```\nThis is called an ROI (Region of Interest). ROIs are views into the original array — modifying an ROI modifies the original image.\n\n**This is the foundation of:**\n- Drawing operations\n- Image cropping\n- Masking\n- Template matching",
    "prerequisites": [
        "00-image-loading"
    ],
    "tips": [
        "img[y, x] — always row (y) first, column (x) second.",
        "ROI slicing returns a view, not a copy. Use .copy() if you don't want to modify the original.",
        "img[y, x, 0] accesses only the Blue channel at pixel (x, y).",
        "Setting a region: img[50:100, 50:100] = (0, 255, 0) fills a rectangle with green.",
        "Use img.copy() before experimenting to preserve the original."
    ],
    "starter_code": "import cv2\nimport numpy as np\n\n# Create a white canvas\nimg = np.ones((300, 400, 3), dtype=np.uint8) * 255\n\n# --- Single pixel access ---\n# Read pixel at row=100, col=200 (y=100, x=200)\npixel = img[100, 200]\nprint(f'Pixel at (x=200, y=100): {pixel}')  # [255, 255, 255] = white\n\n# Write a single pixel (make it red)\nimg[100, 200] = (0, 0, 255)  # BGR: Red\n\n# --- ROI (Region of Interest) ---\n# Draw a blue rectangle by setting a region\nimg[50:150, 50:200] = (255, 0, 0)   # Blue rectangle\n\n# Draw a green rectangle\nimg[50:150, 210:360] = (0, 255, 0)  # Green rectangle\n\n# --- Extract and copy an ROI ---\nroi = img[50:150, 50:200].copy()    # Copy the blue region\nimg[160:260, 100:250] = roi         # Paste it lower\n\n# --- Access individual channels ---\nb_channel = img[:, :, 0]  # Blue channel only\ng_channel = img[:, :, 1]  # Green channel only\nr_channel = img[:, :, 2]  # Red channel only\nprint(f'Blue channel shape: {b_channel.shape}')  # (300, 400)\n\ncv2.imshow('Pixel Access Demo', img)\n",
    "demo_controls": []
}